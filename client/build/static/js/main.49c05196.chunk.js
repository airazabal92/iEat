(this.webpackJsonpieat=this.webpackJsonpieat||[]).push([[0],{118:function(e,t,a){e.exports=a(205)},123:function(e,t,a){},124:function(e,t,a){},141:function(e,t,a){},192:function(e,t,a){},202:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),r=a.n(o),i=(a(123),a(34)),c=a(9),s=(a(124),a(60)),u=a(73),m=a(28),d=a(30),p=a.n(d),g=function(e){return console.log("getUserInfo - user",e),p.a.get("/user",e)},E=function(){return console.log("logoutUser"),p.a.get("/logout")},f=function(e){return console.log("validateUser - loginInfo",e),p.a.post("/login",e)},h=function(e){return p.a.post("/api/recipes",e)},y=function(e){return p.a.post("/register",e)};a(141);var v=function(e){return l.a.createElement("form",{className:"signup"},l.a.createElement("center",null,l.a.createElement("h1",{id:"logo"},l.a.createElement("i",{className:"fas fa-utensils"})," iEat"),l.a.createElement("hr",null),l.a.createElement("p",{id:"welcome"},"Welcome! Please sign up below."),l.a.createElement("br",null)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Full Name:"),l.a.createElement("input",{value:e.name,onChange:e.handleInputChange,name:"name",type:"text",className:"form-control",placeholder:"Type in your name",id:"name"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{value:e.email,onChange:e.handleInputChange,name:"email",type:"email",className:"form-control",placeholder:"Type in your email",id:"email"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{value:e.password,onChange:e.handleInputChange,name:"password",type:"password",className:"form-control",placeholder:"Type in your password",id:"password"}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"calories"},"Caloric Intake"),l.a.createElement("input",{value:e.calories,onChange:e.handleInputChange,name:"calories",type:"text",class:"form-control",id:"calories",placeholder:"Caloric Intake (Ex: 2500, 2000, etc...)"}),l.a.createElement("br",null),l.a.createElement("label",{for:"restrict-option"},"What kind of dietary restrictions do you have?"),console.log(e.dietRestrictions,"Diet Restriction"),l.a.createElement("select",{name:"dietRestrictions",onChange:e.handleInputChange,value:e.dietRestrictions,class:"form-control",id:"restrict-option"},l.a.createElement("option",{value:"Dairy"},"Dairy"),l.a.createElement("option",{value:"Egg"},"Egg"),l.a.createElement("option",{value:"Gluten"},"Gluten"),l.a.createElement("option",{value:"Grain"},"Grain"),l.a.createElement("option",{value:"Peanut"},"Peanut"),l.a.createElement("option",{value:"Seafood"},"Seafood"),l.a.createElement("option",{value:"Sesame"},"Sesame"),l.a.createElement("option",{value:"Shellfish"},"Shellfish"),l.a.createElement("option",{value:"Soy"},"Soy"),l.a.createElement("option",{value:"Sulfite"},"Sulfite"),l.a.createElement("option",{value:"Tree Nut"},"Tree Nut"),l.a.createElement("option",{value:"Wheat"},"Wheat")),l.a.createElement("br",null),l.a.createElement("label",{for:"diet-option"},"What kind of diet are you interested in?"),l.a.createElement("select",{onChange:e.handleInputChange,name:"dietType",value:e.dietType,class:"form-control",id:"diet-option"},l.a.createElement("option",{value:"Gluten Free"},"Gluten Free"),l.a.createElement("option",{value:"Ketogenic"},"Ketogenic"),l.a.createElement("option",{value:"Vegetarian"},"Vegetarian"),l.a.createElement("option",{value:"Lacto-Vegetarian"},"Lacto-Vegetarian"),l.a.createElement("option",{value:"Ovo-Vegetarian"},"Ovo-Vegetarian"),l.a.createElement("option",{value:"Vegan"},"Vegan"),l.a.createElement("option",{value:"Pescatarian"},"Pescatarian"),l.a.createElement("option",{value:"Paleo"},"Paleo"),l.a.createElement("option",{value:"Primal"},"Primal"),l.a.createElement("option",{value:"Whole30"},"Whole30")),l.a.createElement("br",null),l.a.createElement("label",{for:"city-input"},"City"),l.a.createElement("input",{value:e.city,onChange:e.handleInputChange,name:"city",type:"text",class:"form-control",id:"city-input",placeholder:"City"}),l.a.createElement("br",null),l.a.createElement("label",{for:"state-input"},"State"),l.a.createElement("input",{value:e.state,onChange:e.handleInputChange,name:"state",type:"text",class:"form-control",id:"state-input",placeholder:"State"}),l.a.createElement("br",null),l.a.createElement("label",{for:"zipcode-input"},"Zip Code"),l.a.createElement("input",{value:e.zipCode,onChange:e.handleInputChange,name:"zipCode",type:"text",class:"form-control",id:"zipcode-input",placeholder:"Zip Code"}),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("button",{onClick:e.handleFormSubmit,type:"submit",className:"btn btn-primary"},"Sign Up"))))};var b=function(){var e=Object(n.useState)({name:"",email:"",password:"",calories:0,dietRestrictions:"",dietType:"",city:"",state:"",zipCode:""}),t=Object(m.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){console.log("useEffect"),g(a).then((function(e){console.log("res",e)})).catch((function(e){return console.log(e)}))}),[a]),l.a.createElement(l.a.Fragment,null,console.log(a.dietRestrictions,"Sign Up"),l.a.createElement(v,{handleFormSubmit:function(e){e.preventDefault(),y(a).then((function(e){console.log("handleFormSubmit res:",e),o({name:"",email:"",password:"",calories:0,dietRestrictions:"",dietType:"",city:"",state:"",zipCode:""}),window.location.replace("/login")})).catch((function(){return console.log("handleFormSubmit saveUser ERROR")}))},handleInputChange:function(e){var t=e.target,n=t.name,l=t.value;o(Object(u.a)(Object(u.a)({},a),{},Object(s.a)({},n,l))),console.log(l)},handleSelect:function(e){console.log("SELECTION",e)},name:a.name,email:a.email,password:a.password,calories:a.calories,dietRestrictions:a.dietRestrictions,dietType:a.dietType,city:a.city,state:a.state,zipCode:a.zipCode}))},w=function(e,t,a,n){return p.a.get("https://api.spoonacular.com/mealplanner/generate?apiKey="+n+"&timeframe=week?targetCalories="+t+"?diet="+a+"?exclude="+e)},k=function(e){return p.a.get(e)};var C=function(e){return console.log("PROPS",e),l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("center",null,l.a.createElement("h1",{id:"logo"},l.a.createElement("i",{className:"fas fa-utensils"})," iEat")),l.a.createElement("h2",{className:" text-center"},"Welcome ",e.userName)))},S=(a(65),a(209)),O=a(211);S.a.Meta;var I=function(e){return l.a.createElement(S.a,{style:{width:350},cover:l.a.createElement("img",{alt:"Recipe",src:e.img})},l.a.createElement("h5",null,e.name),l.a.createElement("center",null,l.a.createElement(O.a,null,l.a.createElement("a",{target:"_blank",href:e.source},"View Recipe"))))},N=a(50),U=a(24);var x=function(){var e=Object(n.useState)({name:"",dietRestrictions:"",calories:0,dietType:"",recipes:[]}),t=Object(m.a)(e,2),a=t[0],o=t[1],r=[],i=[],c=[],s=Object(n.useState)([]),u=Object(m.a)(s,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){var e,t,n;g().then((function(e){console.log("User info",e),o({name:e.data.name,dietRestrictions:e.data.dietRestrictions,calories:e.data.calories,dietType:e.data.dietType})})).catch((function(e){console.log(e),window.location.replace("/login")})),console.log(JSON.stringify(a)),e=a.dietRestrictions,t=a.calories,n=a.dietType,w(e,t,n,"9a8e923e614c40a79b5c4beedfcd0b7d").then((function(e){console.log(e);for(var t=0;t<3;t++)r.push({id:e.data.week.monday.meals[t].id,title:e.data.week.monday.meals[t].title,sourceUrl:e.data.week.monday.meals[t].sourceUrl});for(var a=0;a<3;a++)r.push({id:e.data.week.tuesday.meals[a].id,title:e.data.week.tuesday.meals[a].title,sourceUrl:e.data.week.tuesday.meals[a].sourceUrl});for(var n=0;n<3;n++)r.push({id:e.data.week.wednesday.meals[n].id,title:e.data.week.wednesday.meals[n].title,sourceUrl:e.data.week.wednesday.meals[n].sourceUrl});for(var l=0;l<3;l++)r.push({id:e.data.week.thursday.meals[l].id,title:e.data.week.thursday.meals[l].title,sourceUrl:e.data.week.thursday.meals[l].sourceUrl});for(var o=0;o<3;o++)r.push({id:e.data.week.friday.meals[o].id,title:e.data.week.friday.meals[o].title,sourceUrl:e.data.week.friday.meals[o].sourceUrl});for(var i=0;i<3;i++)r.push({id:e.data.week.saturday.meals[i].id,title:e.data.week.saturday.meals[i].title,sourceUrl:e.data.week.saturday.meals[i].sourceUrl});for(var c=0;c<3;c++)r.push({id:e.data.week.sunday.meals[c].id,title:e.data.week.sunday.meals[c].title,sourceUrl:e.data.week.sunday.meals[c].sourceUrl});console.log(r)})).then((function(){console.log("getting id, img, ingredients, qty, and units"),new Promise((function(e,t){for(var a=function(e){var t="https://api.spoonacular.com/recipes/"+r[e].id+"/information?apiKey=9a8e923e614c40a79b5c4beedfcd0b7d";k(t).then((function(t){console.log(t);for(var a=[],n=[],l=[],o=0;o<t.data.extendedIngredients.length;o++)a.push(t.data.extendedIngredients[o].name),n.push(t.data.extendedIngredients[o].measures.us.amount),l.push(t.data.extendedIngredients[o].measures.us.unitLong);i.push({id:r[e].id,img:t.data.image,ingredients:a,qty:n,units:l})}))},n=0;n<r.length;n++)a(n);e(i)})).then((function(e){console.log("after getting recipe img, ingredients, etc"),console.log("RESPONSE",e);var t=e;setTimeout((function(){for(var e=0;e<t.length;e++)for(var n=0;n<r.length;n++)r[n].id===t[e].id&&(console.log("MATCH"),t[e].name=r[n].title,t[e].sourceUrl=r[n].sourceUrl);c=t,console.log("FINAL DATA: "),console.log(c),p(c),console.log("FINAL DATA FOR DOM set"),console.log("Store recipes"),a.recipes=c,h(a).then((function(e){console.log("Recipes added to database!"),console.log(e.data.name),console.log(e.data.recipes[0])})).catch((function(e){return console.log(e)}))}),3500)}))})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",{style:{background:"#fff"}},a!=[]?l.a.createElement(C,{userName:a.name}):l.a.createElement("p",null,"User doesn't exist"),l.a.createElement("h3",{className:"text-center"},"Meal Plan For The Week"),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement(N.a,{type:"flex"},d!=[]?d.map((function(e,t){return l.a.createElement(U.a,{key:parseInt(e.id+1),xs:24,sm:24,md:8,lg:8,xl:8},l.a.createElement("center",null,l.a.createElement(I,{img:e.img,name:e.name,source:e.sourceUrl,key:t})),l.a.createElement("br",null))})):l.a.createElement("p",null,"Loading Recipes...")))};a(192);var R=function(e){return l.a.createElement("form",{className:"shopping"},l.a.createElement("div",{className:"form-group"},l.a.createElement("center",null,l.a.createElement(O.a,{type:"primary",onClick:e.handleSubmitBtn,className:"btn btn-success"},"Shopping List"))))};var j=function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){console.log("useEffect"),g().then((function(e){console.log("getCurrentUser - res.data",e.data),o({calories:e.data.calories,city:e.data.calories,dietRestrictions:e.data.dietRestrictions,dietType:e.data.dietType,email:e.data.email,name:e.data.name,password:e.data.password,recipes:e.data.recipes,state:e.data.state,zipCode:e.data.zipCode,_id:e.data._id}),console.log("setUser - user",a)})).catch((function(e){console.log("getCurrentUser",e),window.location.replace("/login")}))}),[]),l.a.createElement("div",null,l.a.createElement("h1",null,a.name,"'s Shopping List"),l.a.createElement(R,{handleSubmitBtn:function(e){e.preventDefault()},userName:a.userName}),l.a.createElement("ul",null,Array.isArray(a.recipes)&&a.recipes.length?a.recipes.map((function(e){return e.ingredients.map((function(t,a){return 0===a?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h1",null,e.name)):l.a.createElement("li",{className:"list-group-item"},t," ",e.qty[a]," ",e.units[a])}))})):console.log("Array is empty")))},T=a(110),F=a(111),L=a(115),P=a(114),z=a(207),W=a(210),A=z.a.Header,D=(W.a.SubMenu,function(e){Object(L.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return l.a.createElement(A,null,l.a.createElement(W.a,{theme:"dark",mode:"horizontal",selectedKeys:[window.location.pathname]},l.a.createElement(W.a.Item,{key:"1"},l.a.createElement(i.b,{to:"/recipes"},"Recipes")),l.a.createElement(W.a.Item,{key:"2"},l.a.createElement(i.b,{to:"/shopping"},"Shopping list")),l.a.createElement(W.a.Item,{style:{float:"right"},key:"4"},l.a.createElement(i.b,{to:"/logout"},"Log Out")),l.a.createElement(W.a.Item,{style:{float:"right"},key:"5"},l.a.createElement(i.b,{to:"/signup"},"Sign Up")),l.a.createElement(W.a.Item,{style:{float:"right"},key:"6"},l.a.createElement(i.b,{to:"/login"},"Sign In "))))}}]),a}(l.a.Component)),V=a(208),M=a(213),G=a(214),B=a(212);a(202);var K=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),i=Object(m.a)(r,2),c=i[0],s=i[1],u={backgroundColor:{background:"#fff",padding:"45px",width:"65%"},errorLogin:{background:"#fff",width:"400px",margin:"auto",textAlign:"center",fontSize:"14px",fontWeight:"800"}};return l.a.createElement("div",{className:"Login"},l.a.createElement("form",{style:u.backgroundColor,onSubmit:function(e){e.preventDefault(),f({email:a,password:c}).then((function(e){console.log("handleSubmit res:",e),o(""),s(""),window.location.replace("/recipes")})).catch((function(){console.log("handSubmit validateUser ERROR");var e=document.getElementById("error");e.innerHTML="Invalid email or password, please try again.",e.style.padding="35px"}))}},l.a.createElement("center",null,l.a.createElement("h1",{id:"logo"},l.a.createElement("i",{className:"fas fa-utensils"})," iEat")),l.a.createElement(V.a,{controlId:"email",size:"large"},l.a.createElement(M.a,null,"Email"),l.a.createElement(G.a,{autoFocus:!0,type:"email",value:a,onChange:function(e){return o(e.target.value)}})),l.a.createElement(V.a,{controlId:"password",size:"large"},l.a.createElement(M.a,null,"Password"),l.a.createElement(G.a,{value:c,onChange:function(e){return s(e.target.value)},type:"password"})),l.a.createElement(B.a,{block:!0,size:"large",disabled:!(a.length>0&&c.length>0),type:"submit"},l.a.createElement("strong",null,"Login"))),l.a.createElement("br",null),l.a.createElement("div",{style:u.errorLogin,id:"error"}))};var q=function(){E().then((function(){console.log("LogOut"),window.location.replace("/login")}))};var H=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(c.a,{exact:!0,path:"/",component:b}),l.a.createElement(c.a,{exact:!0,path:"/signup",component:b}),l.a.createElement(c.a,{exact:!0,path:"/login",component:K}),l.a.createElement(c.a,{exact:!0,path:"/recipes",component:x}),l.a.createElement(c.a,{exact:!0,path:"/shopping",component:j}),l.a.createElement(c.a,{exact:!0,path:"/logout",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.49c05196.chunk.js.map